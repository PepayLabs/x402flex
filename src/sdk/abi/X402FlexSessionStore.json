{
  "contractName": "X402FlexSessionStore",
  "sourceName": "src/X402FlexSessionStore.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "admin",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AccessControlBadConfirmation",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "neededRole",
          "type": "bytes32"
        }
      ],
      "name": "AccessControlUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "CancelExpired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "CapRequired",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "deadline",
          "type": "uint256"
        }
      ],
      "name": "ClaimExpired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ClaimSignerRequired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidMerchant",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidShortString",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidSignature",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        }
      ],
      "name": "SessionAlreadyClaimed",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint32",
          "name": "remainingSeconds",
          "type": "uint32"
        }
      ],
      "name": "SessionCoolDownActive",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "providedDeadline",
          "type": "uint256"
        }
      ],
      "name": "SessionDeadlineExpired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionDeadlineRequired",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "schemeId",
          "type": "bytes32"
        }
      ],
      "name": "SessionDuplicateScheme",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SessionDuplicateToken",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionEpochMustIncrease",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionExpired",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "providedExpiry",
          "type": "uint256"
        }
      ],
      "name": "SessionExpiresInPast",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionIdRequired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionNonceMustIncrease",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionNotAuthorized",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        }
      ],
      "name": "SessionNotClaimable",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionRateLimitExceeded",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionRevokedState",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "schemeId",
          "type": "bytes32"
        }
      ],
      "name": "SessionSchemeNotAllowed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionSchemesRequired",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "provided",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxAllowed",
          "type": "uint256"
        }
      ],
      "name": "SessionSchemesTooMany",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "expected",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "provided",
          "type": "bytes32"
        }
      ],
      "name": "SessionScopeMismatch",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionScopeRequired",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "expected",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "actual",
          "type": "uint256"
        }
      ],
      "name": "SessionSpendNonceMismatch",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "requested",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "remaining",
          "type": "uint256"
        }
      ],
      "name": "SessionTokenCapExceeded",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionTokenCapsRequired",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "provided",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxAllowed",
          "type": "uint256"
        }
      ],
      "name": "SessionTokenCapsTooMany",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SessionTokenNotAllowed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionUnknown",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "str",
          "type": "string"
        }
      ],
      "name": "StringTooLong",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAddress",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [],
      "name": "EIP712DomainChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "previousAdminRole",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "newAdminRole",
          "type": "bytes32"
        }
      ],
      "name": "RoleAdminChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "RoleGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "RoleRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "router",
          "type": "address"
        }
      ],
      "name": "RouterUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "claimSigner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "epoch",
          "type": "uint32"
        }
      ],
      "name": "SessionClaimableOpened",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "agent",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "epoch",
          "type": "uint32"
        }
      ],
      "name": "SessionClaimed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "agent",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "expiresAt",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "epoch",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "merchantScope",
          "type": "bytes32"
        }
      ],
      "name": "SessionOpened",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "caller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "epoch",
          "type": "uint32"
        }
      ],
      "name": "SessionRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "agent",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "schemeId",
          "type": "bytes32"
        }
      ],
      "name": "SessionSpent",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "DEFAULT_ADMIN_ROLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ROUTER_ROLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "agent",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "deadline",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "claimSig",
          "type": "bytes"
        }
      ],
      "name": "claimSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "expected",
          "type": "uint256"
        }
      ],
      "name": "consumeSpendNonce",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "nextNonce",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "eip712Domain",
      "outputs": [
        {
          "internalType": "bytes1",
          "name": "fields",
          "type": "bytes1"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "version",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "chainId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "verifyingContract",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "salt",
          "type": "bytes32"
        },
        {
          "internalType": "uint256[]",
          "name": "extensions",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        }
      ],
      "name": "getClaimSigner",
      "outputs": [
        {
          "internalType": "address",
          "name": "claimSigner",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        }
      ],
      "name": "getRoleAdmin",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        }
      ],
      "name": "getSession",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "initialized",
              "type": "bool"
            },
            {
              "internalType": "address",
              "name": "payer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "agent",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "merchantScope",
              "type": "bytes32"
            },
            {
              "internalType": "uint32",
              "name": "expiresAt",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "epoch",
              "type": "uint32"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "revoked",
              "type": "bool"
            },
            {
              "components": [
                {
                  "internalType": "uint32",
                  "name": "maxTxPerMinute",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "maxTxPerDay",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "coolDownSeconds",
                  "type": "uint32"
                }
              ],
              "internalType": "struct SessionTypes.RateLimit",
              "name": "rateLimit",
              "type": "tuple"
            },
            {
              "internalType": "uint32",
              "name": "minuteWindowStart",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "txCountInMinute",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "dayWindowStart",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "txCountInDay",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "lastSpendAt",
              "type": "uint32"
            }
          ],
          "internalType": "struct X402FlexSessionStore.SessionState",
          "name": "info",
          "type": "tuple"
        },
        {
          "internalType": "address[]",
          "name": "tokens",
          "type": "address[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "schemes",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        }
      ],
      "name": "getSessionSpendNonce",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        }
      ],
      "name": "getSessionState",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "initialized",
              "type": "bool"
            },
            {
              "internalType": "address",
              "name": "payer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "agent",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "merchantScope",
              "type": "bytes32"
            },
            {
              "internalType": "uint32",
              "name": "expiresAt",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "epoch",
              "type": "uint32"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "revoked",
              "type": "bool"
            },
            {
              "components": [
                {
                  "internalType": "uint32",
                  "name": "maxTxPerMinute",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "maxTxPerDay",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "coolDownSeconds",
                  "type": "uint32"
                }
              ],
              "internalType": "struct SessionTypes.RateLimit",
              "name": "rateLimit",
              "type": "tuple"
            },
            {
              "internalType": "uint32",
              "name": "minuteWindowStart",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "txCountInMinute",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "dayWindowStart",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "txCountInDay",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "lastSpendAt",
              "type": "uint32"
            }
          ],
          "internalType": "struct X402FlexSessionStore.SessionState",
          "name": "info",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "grantRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "hasRole",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        }
      ],
      "name": "isClaimableSession",
      "outputs": [
        {
          "internalType": "bool",
          "name": "claimable",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "sessionId",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "payer",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "merchantScope",
              "type": "bytes32"
            },
            {
              "internalType": "uint32",
              "name": "deadline",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "expiresAt",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "epoch",
              "type": "uint32"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "claimSigner",
              "type": "address"
            },
            {
              "components": [
                {
                  "internalType": "uint32",
                  "name": "maxTxPerMinute",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "maxTxPerDay",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "coolDownSeconds",
                  "type": "uint32"
                }
              ],
              "internalType": "struct SessionTypes.RateLimit",
              "name": "rateLimit",
              "type": "tuple"
            },
            {
              "internalType": "bytes32[]",
              "name": "allowedSchemes",
              "type": "bytes32[]"
            },
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "token",
                  "type": "address"
                },
                {
                  "internalType": "uint128",
                  "name": "cap",
                  "type": "uint128"
                },
                {
                  "internalType": "uint128",
                  "name": "dailyCap",
                  "type": "uint128"
                }
              ],
              "internalType": "struct SessionTypes.TokenCap[]",
              "name": "tokenCaps",
              "type": "tuple[]"
            }
          ],
          "internalType": "struct SessionTypes.ClaimableSessionGrant",
          "name": "grant",
          "type": "tuple"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "openClaimableSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "sessionId",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "payer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "agent",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "merchantScope",
              "type": "bytes32"
            },
            {
              "internalType": "uint32",
              "name": "deadline",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "expiresAt",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "epoch",
              "type": "uint32"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "components": [
                {
                  "internalType": "uint32",
                  "name": "maxTxPerMinute",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "maxTxPerDay",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "coolDownSeconds",
                  "type": "uint32"
                }
              ],
              "internalType": "struct SessionTypes.RateLimit",
              "name": "rateLimit",
              "type": "tuple"
            },
            {
              "internalType": "bytes32[]",
              "name": "allowedSchemes",
              "type": "bytes32[]"
            },
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "token",
                  "type": "address"
                },
                {
                  "internalType": "uint128",
                  "name": "cap",
                  "type": "uint128"
                },
                {
                  "internalType": "uint128",
                  "name": "dailyCap",
                  "type": "uint128"
                }
              ],
              "internalType": "struct SessionTypes.TokenCap[]",
              "name": "tokenCaps",
              "type": "tuple[]"
            }
          ],
          "internalType": "struct SessionTypes.FlexSessionGrant",
          "name": "grant",
          "type": "tuple"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "openSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "callerConfirmation",
          "type": "address"
        }
      ],
      "name": "renounceRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "revokeRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        }
      ],
      "name": "revokeSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "deadline",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "revokeSessionBySig",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "router",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newRouter",
          "type": "address"
        }
      ],
      "name": "setRouter",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "sessionId",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "agent",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "merchant",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "resourceId",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "tokenAmount",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "schemeId",
              "type": "bytes32"
            }
          ],
          "internalType": "struct X402FlexSessionStore.SpendRequest",
          "name": "request",
          "type": "tuple"
        }
      ],
      "name": "spendFromSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "sessionId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "tokenBudget",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint128",
              "name": "cap",
              "type": "uint128"
            },
            {
              "internalType": "uint128",
              "name": "remaining",
              "type": "uint128"
            },
            {
              "internalType": "uint128",
              "name": "dailyCap",
              "type": "uint128"
            },
            {
              "internalType": "uint128",
              "name": "dailySpent",
              "type": "uint128"
            },
            {
              "internalType": "uint64",
              "name": "dailyWindowStart",
              "type": "uint64"
            }
          ],
          "internalType": "struct X402FlexSessionStore.TokenBucket",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ]
}